

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>proposals.utils.proposal_utils module &mdash; FEtC-H 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="proposals.utils.validate_proposal module" href="proposals.utils.validate_proposal.html" />
    <link rel="prev" title="proposals.utils package" href="proposals.utils.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> FEtC-H
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Index</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../maintenance/index.html">Maintenance &amp; administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Server Deployment</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">ethics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="core.html">core package</a></li>
<li class="toctree-l2"><a class="reference internal" href="faqs.html">faqs package</a></li>
<li class="toctree-l2"><a class="reference internal" href="feedback.html">feedback package</a></li>
<li class="toctree-l2"><a class="reference internal" href="fetc.html">fetc package</a></li>
<li class="toctree-l2"><a class="reference internal" href="interventions.html">interventions package</a></li>
<li class="toctree-l2"><a class="reference internal" href="observations.html">observations package</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="proposals.html">proposals package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="proposals.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="proposals.management.html">proposals.management package</a></li>
<li class="toctree-l4"><a class="reference internal" href="proposals.templatetags.html">proposals.templatetags package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="proposals.utils.html">proposals.utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="proposals.views.html">proposals.views package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proposals.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reviews.html">reviews package</a></li>
<li class="toctree-l2"><a class="reference internal" href="studies.html">studies package</a></li>
<li class="toctree-l2"><a class="reference internal" href="tasks.html">tasks package</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">FEtC-H</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">ethics</a> &raquo;</li>
        
          <li><a href="proposals.html">proposals package</a> &raquo;</li>
        
          <li><a href="proposals.utils.html">proposals.utils package</a> &raquo;</li>
        
      <li>proposals.utils.proposal_utils module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/reference/proposals.utils.proposal_utils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-proposals.utils.proposal_utils">
<span id="proposals-utils-proposal-utils-module"></span><h1>proposals.utils.proposal_utils module<a class="headerlink" href="#module-proposals.utils.proposal_utils" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="proposals.utils.proposal_utils.available_urls">
<code class="descclassname">proposals.utils.proposal_utils.</code><code class="descname">available_urls</code><span class="sig-paren">(</span><em>proposal</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proposals/utils/proposal_utils.html#available_urls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#proposals.utils.proposal_utils.available_urls" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the available URLs for the given Proposal.
:param proposal: the current Proposal
:return: a list of available URLs for this Proposal.</p>
</dd></dl>

<dl class="function">
<dt id="proposals.utils.proposal_utils.generate_ref_number">
<code class="descclassname">proposals.utils.proposal_utils.</code><code class="descname">generate_ref_number</code><span class="sig-paren">(</span><em>user</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proposals/utils/proposal_utils.html#generate_ref_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#proposals.utils.proposal_utils.generate_ref_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a reference number for a new(!) Proposal.
NOTE: Use generate_revision_ref_number to create reference numbers for
revisions! This function will always create a new ref.num. with version = 1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user</strong> – the creator of this Proposal, the currently logged-in User</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a reference number in the format {username}-{nr}-{vr}-{</td>
</tr>
</tbody>
</table>
<p>current_year}, where nr is the number of Proposals created by the current
User in the current year excluding revisions. Vr is the version of this
proposal, this function will always return vr = 1.</p>
</dd></dl>

<dl class="function">
<dt id="proposals.utils.proposal_utils.generate_revision_ref_number">
<code class="descclassname">proposals.utils.proposal_utils.</code><code class="descname">generate_revision_ref_number</code><span class="sig-paren">(</span><em>parent</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proposals/utils/proposal_utils.html#generate_revision_ref_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#proposals.utils.proposal_utils.generate_revision_ref_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a new reference number for revisions of a proposal.
This is done by looking up the last revision of the specified proposal,
not by incrementing the version of the specified proposal.
(The latter will fail spectacularly when a user makes 2 revisions from the
same proposal)
:param parent: The proposal that will be revised
:return: a reference number in the format {username}-{nr}-{vr}-{
current_year}, where nr is the number of Proposals created by the current
User in the current year excluding revisions. This method will use the
same nr as the parent. Vr is the version of this proposal, this function
will use the next available version number (this might not be the same as
parent.vr + 1, as that one might already exist).</p>
</dd></dl>

<dl class="function">
<dt id="proposals.utils.proposal_utils.generate_pdf">
<code class="descclassname">proposals.utils.proposal_utils.</code><code class="descname">generate_pdf</code><span class="sig-paren">(</span><em>proposal</em>, <em>template</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proposals/utils/proposal_utils.html#generate_pdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#proposals.utils.proposal_utils.generate_pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the PDF for a Proposal and attaches it.
:param proposal: the current Proposal
:param template: the template for the PDF</p>
</dd></dl>

<dl class="function">
<dt id="proposals.utils.proposal_utils.check_local_facilities">
<code class="descclassname">proposals.utils.proposal_utils.</code><code class="descname">check_local_facilities</code><span class="sig-paren">(</span><em>proposal</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proposals/utils/proposal_utils.html#check_local_facilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#proposals.utils.proposal_utils.check_local_facilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether local lab facilities are used in the given Proposal
:param proposal: the current Proposal
:return: an empty dictionary if no local support is needed, a dictionary with local facilities otherwise</p>
</dd></dl>

<dl class="function">
<dt id="proposals.utils.proposal_utils.notify_local_staff">
<code class="descclassname">proposals.utils.proposal_utils.</code><code class="descname">notify_local_staff</code><span class="sig-paren">(</span><em>proposal</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proposals/utils/proposal_utils.html#notify_local_staff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#proposals.utils.proposal_utils.notify_local_staff" title="Permalink to this definition">¶</a></dt>
<dd><p>Notifies local lab staff of the current Proposal via e-mail.
:param proposal: the current Proposal</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="proposals.utils.validate_proposal.html" class="btn btn-neutral float-right" title="proposals.utils.validate_proposal module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="proposals.utils.html" class="btn btn-neutral float-left" title="proposals.utils package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Martijn van der Klis &amp; Ty Mees

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>