

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Structure &mdash; FEtC-H 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tests" href="tests.html" />
    <link rel="prev" title="E-Mail" href="install/mail.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> FEtC-H
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Index</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../maintenance/index.html">Maintenance &amp; administration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Development</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="install/index.html">Local development installation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#core">Core</a></li>
<li class="toctree-l3"><a class="reference internal" href="#proposals-flow">Proposals Flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#creating">Creating</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reviewing">Reviewing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tests.html">Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="i18n.html">Internationalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="toolset.html">Toolset</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Server Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">ethics</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">FEtC-H</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Development</a> &raquo;</li>
        
      <li>Structure</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/developing/structure.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="structure">
<h1>Structure<a class="headerlink" href="#structure" title="Permalink to this headline">¶</a></h1>
<p>This Django project consists of ten apps that can be divided into three categories:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>Core</dt>
<dd><ul class="first last">
<li><em>fetc</em>: Main directory with settings and a WSGI configuration.</li>
<li><em>core</em>: Core functionality, reusable models, views, forms and templates.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Proposals</dt>
<dd><ul class="first last">
<li><em>proposals</em>: Main application that binds together all applications below. Allows participants to give general information on their study.</li>
<li><em>studies</em>: Allows users to add more in-detail information on their study.</li>
<li><em>observations</em>: Allows users to specify the observation part of their study (if applicable).</li>
<li><em>interventions</em>: Allows users to specify the intervention part of their study (if applicable).</li>
<li><em>tasks</em>: Allows users to specify tasks in their study (if applicable). Tasks can be grouped in one or more sessions.</li>
<li><em>reviews</em>: Allows the committee to review proposals.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Feedback</dt>
<dd><ul class="first last">
<li><em>feedback</em>: Allows users to give feedback on the application: with what parts did they struggle?</li>
<li><em>faqs</em>: Provides users with answers to frequently asked questions about the application.</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In the code a ‘research project’ is called a proposal, but this term is not used outside of development. Using this
term near users can lead to some confused looks, be warned ;)</p>
<p class="last">It’s generally safe to use the word ‘study’.</p>
</div>
<div class="section" id="core">
<h2>Core<a class="headerlink" href="#core" title="Permalink to this headline">¶</a></h2>
<p>The core category contains most of the underlying code used in other apps. For example, it contains the base templates
for all other views and it’s where most of the authentication code is located.</p>
<p>The <a class="reference internal" href="../reference/core.html#module-core" title="core"><code class="xref py py-mod docutils literal notranslate"><span class="pre">core</span></code></a> app contains only one model of it’s own, the <a class="reference internal" href="../reference/core.models.html#core.models.Setting" title="core.models.Setting"><code class="xref py py-class docutils literal notranslate"><span class="pre">Setting</span></code></a> model. (Setting as in
location, not preferences). This model is used by the <a class="reference internal" href="../reference/observations.html#module-observations" title="observations"><code class="xref py py-mod docutils literal notranslate"><span class="pre">observations</span></code></a>, <a class="reference internal" href="../reference/interventions.html#module-interventions" title="interventions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">interventions</span></code></a> and <a class="reference internal" href="../reference/tasks.html#module-tasks" title="tasks"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tasks</span></code></a> apps.</p>
<p>Also included in <a class="reference internal" href="../reference/core.models.html#module-core.models" title="core.models"><code class="xref py py-mod docutils literal notranslate"><span class="pre">core.models</span></code></a> is an abstract model class, which adds the <cite>settings</cite> fields to a model. This is
used in the same apps as before.</p>
<p>See <a class="reference internal" href="../reference/core.utils.html#module-core.utils" title="core.utils"><code class="xref py py-mod docutils literal notranslate"><span class="pre">core.utils</span></code></a>, <a class="reference internal" href="../reference/core.models.html#module-core.models" title="core.models"><code class="xref py py-mod docutils literal notranslate"><span class="pre">core.models</span></code></a>, <a class="reference internal" href="../reference/core.templatetags.core_filters.html#module-core.templatetags.core_filters" title="core.templatetags.core_filters"><code class="xref py py-mod docutils literal notranslate"><span class="pre">core.templatetags.core_filters</span></code></a> for other commonly used classes,
functions and methods.</p>
</div>
<div class="section" id="proposals-flow">
<h2>Proposals Flow<a class="headerlink" href="#proposals-flow" title="Permalink to this headline">¶</a></h2>
<div class="section" id="creating">
<h3>Creating<a class="headerlink" href="#creating" title="Permalink to this headline">¶</a></h3>
<p>When a researcher wants to submit a new proposal (also called a ‘study’), (s)he starts in the <a class="reference internal" href="../reference/proposals.html#module-proposals" title="proposals"><code class="xref py py-mod docutils literal notranslate"><span class="pre">proposals</span></code></a> app. The
forms in this app ask for basic information about the study (title, researchers involved, funding, etc.). This
information is stored in a <a class="reference internal" href="../reference/proposals.models.html#proposals.models.Proposal" title="proposals.models.Proposal"><code class="xref py py-class docutils literal notranslate"><span class="pre">Proposal</span></code></a> object, which also serves as the main object for the
other objects.</p>
<p>While staying in the <code class="docutils literal notranslate"><span class="pre">proposals</span></code> app, the researcher has to specify the amount of studies that are part of this
proposal. (Please note that studies are called ‘trajectories’ in the interface).</p>
<p>The app then creates the apropiate <a class="reference internal" href="../reference/studies.models.html#studies.models.Study" title="studies.models.Study"><code class="xref py py-class docutils literal notranslate"><span class="pre">Study</span></code></a> objects and hands over progress to the <code class="docutils literal notranslate"><span class="pre">study</span></code>
app. This app itself only handles basic information about the participants. The researcher is also asked which of three
research types will be performed in this study. These types can be <em>observation</em>, <em>intervention</em> and <em>task-based</em>.</p>
<p>For every type selected a corresponding object will be created. These models are located in their respective apps, which
will also handle the forms for those models.</p>
<p>If the researcher has filled in all information about the research types, they will return to the <code class="docutils literal notranslate"><span class="pre">study</span></code> app to
finish up, after which they will either start anew with the next study, or be returned back to the <code class="docutils literal notranslate"><span class="pre">proposals</span></code> app,</p>
<p>There, they will be asked to supply the consent forms for each study. Consent forms are stored in a
<a class="reference internal" href="../reference/studies.models.html#studies.models.Documents" title="studies.models.Documents"><code class="xref py py-class docutils literal notranslate"><span class="pre">Documents</span></code></a> object. An object should’ve been created for every study automatically. If needed,
researchers can supply additional consent forms. In that case, the system will create a new <code class="docutils literal notranslate"><span class="pre">Documents</span></code> object without
a reference to a study.</p>
<p>A warning about datamanagement is next, after which the researcher can submit it for review.</p>
<div class="figure" id="id1">
<img alt="Proposal flow diagram" src="../_images/proposal-flow.png" />
<p class="caption"><span class="caption-text">A (very) simple illustration of the order in which a proposal is created</span></p>
</div>
</div>
<div class="section" id="reviewing">
<h3>Reviewing<a class="headerlink" href="#reviewing" title="Permalink to this headline">¶</a></h3>
<p>When a proposal is submitted, one of the following can happen:</p>
<div class="section" id="supervisor-phase">
<h4>Supervisor phase<a class="headerlink" href="#supervisor-phase" title="Permalink to this headline">¶</a></h4>
<p>If the proposal has a supervisor, the proposal enters the ‘supervisor review phase’. A <a class="reference internal" href="../reference/reviews.models.html#reviews.models.Review" title="reviews.models.Review"><code class="xref py py-class docutils literal notranslate"><span class="pre">Review</span></code></a>
object is created for the proposal, and an empty <a class="reference internal" href="../reference/reviews.models.html#reviews.models.Decision" title="reviews.models.Decision"><code class="xref py py-class docutils literal notranslate"><span class="pre">Decision</span></code></a> is created for the supervisor.</p>
<p>The supervisor is sent an e-mail, asking them to review their student’s proposal. If the supervisor think’s it’s fine,
the review is closed with approval, and the Committee review phase starts. (See below).</p>
<p>If the proposal needs some additional work, the supervisor selects ‘needs revision’ and the review is closed with that
status. The supervisor can also say it’s not approved, but which is handled in the same manner. However, this almost
never happens.</p>
<p>It is worth noting that a ‘needs revision’ or a ‘not approved’ conclusion actually closes the entire proposal! To
continue, the researcher needs to create a <strong>new</strong> proposal by <strong>copying</strong> the old one. (There is a special page to
create revision copies).</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">One must create a revision by making a copy! Do not let them start from scratch! Otherwise the FEtC-H cannot
reliably identify it as a revision.</p>
</div>
</div>
<div class="section" id="committee-review-phase">
<h4>Committee review phase<a class="headerlink" href="#committee-review-phase" title="Permalink to this headline">¶</a></h4>
<p>If the supervisor has approved the proposal or the proposal doesn’t have a supervisor, the committee review phase begins.</p>
<p>A <a class="reference internal" href="../reference/reviews.models.html#reviews.models.Review" title="reviews.models.Review"><code class="xref py py-class docutils literal notranslate"><span class="pre">Review</span></code></a> object is created for the proposal, and a <a class="reference internal" href="../reference/reviews.models.html#reviews.models.Decision" title="reviews.models.Decision"><code class="xref py py-class docutils literal notranslate"><span class="pre">Decision</span></code></a> object
is created for the secretary. The review has it’s own phases, namely: assignment, review and conclusion.</p>
<p>At the assignment phase, the secretary decides if the proposal should follow the short route or the long route. The
application gives the secretary an ‘auto-review’, which boils down to a series of checks like ‘performs long experiments
on children’, etc.
The auto-review code can be found in <a class="reference internal" href="../reference/reviews.utils.html#module-reviews.utils" title="reviews.utils"><code class="xref py py-mod docutils literal notranslate"><span class="pre">utils</span></code></a>. If any check returns true, the application recommends the
long route.</p>
<p>At the same time, the secretary selects committee members to review the proposal. Once the committee members are
assigned, the review phase begins.</p>
<p>In the review phase, all selected committee members give their own decision:</p>
<ul class="simple">
<li>Accepted</li>
<li>Needs revision</li>
<li>Rejection</li>
</ul>
<p>Once all committee members have given their decision, the secretary can conclude the proposal. At conclusion, the
secretary fills in the final decision. In all cases, the proposal is closed and we reach the end of the proposal lifetime.</p>
<p>A researcher can make a review or an amendment later, but that is treated as a new proposal. (Revisions and amendments
do include a reference to the original study and have the <cite>is_revision</cite> boolean set to true).</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tests.html" class="btn btn-neutral float-right" title="Tests" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="install/mail.html" class="btn btn-neutral float-left" title="E-Mail" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Martijn van der Klis &amp; Ty Mees

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>