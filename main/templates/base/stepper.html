{% load cdh_filters %}

<div class="stepper">
    <ul>
        {% counter counter create 1 %}
        {% for item in stepper.collect_items %}
            <li>
                <a class="stepper-item" href="{{ item.get_url }}">
                    <span class="stepper-bubble stepper-bubble-largest">{% counter counter value %}</span>
                    <span>{{ item.title }}</span>
                </a>
                {% if item.children %}
                    <ul>
                        {% for child in item.children %}
                            <li>
                                <a class="stepper-item" href="{{ child.url }}">
                                    <span class="stepper-bubble stepper-bubble-normal"></span>
                                    <span>{{ child.title }}</span>
                                </a>
                            </li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </li>
            {% counter counter increment %}
        {% endfor %}
    </ul>
</div>
